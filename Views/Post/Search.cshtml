@model IEnumerable<ForumsUnknown.Models.ForumPostViewModel>
@using System.Linq

@{
    ViewBag.Title = "Search";
    int resultsCount = Model.Count();
}

<h2>Search results: @Model.Count() found</h2>


@foreach (var item in Model)
{
    <div class="container bg-transparent post">
        <div class="card p-5 pb-3 bg-transparent col-lg-5 border-light mx-auto custom-highlight" data-id="@item.PostID">
            <div class="card-header border-light">
                <div class="card-title display-5 fw-normal">@item.Title</div>
                <div class="card-subtitle h5">by <span class="text-danger">@item.AuthorName</span></div>
            </div>
            <div class="card-body">
                @if (item.ModifiedAt != item.CreatedAt)
                {
                    <p class="w-25"><span class="bg-secondary text-light px-2">Edited</span></p>
                }
                @item.Content
            </div>
            <div class="card-footer">
                Posted on: @item.CreatedAt
            </div><br />
            <div class="px-0"><button class="btn btn-sm btn-outline-light w-100">Comment</button></div>
        </div>

    </div>
    <br />
    <br />
    <br />
}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var cards = document.querySelectorAll(".card");

        cards.forEach(function (card) {
            card.addEventListener("click", function () {
                var postId = this.getAttribute("data-id");
                window.location.href = '/Post/' + postId;
            });
        });
    });
</script>